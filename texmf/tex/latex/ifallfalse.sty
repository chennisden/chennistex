\ProvidesPackage{ifallfalse}

% This is a package provided by the maintainers of bounce.cls.
% It checks whether a string is the different from a number of other strings
% passed in via orcheck.
% It is used to check whether the theme is valid or not, and throws
% an error message if it is not valid.

\def\comparedstring{} % string we compare everything else to
\def\logicbody{} % body of logic

\newenvironment{allfalse}[2] % first argument is the string we are comparing against the orchecks,
% second argument is what to do if none of them match
% the second argument must be fully expanadble because we are using edef
% in particular, newcommand and renewcommand fail
{
    \def\comparedstring{#1}
    \def\logicbody{#2} % initializes logicbody with action
}
{
    \logicbody
}

\newcommand*\@allfalsename{allfalse} % used to compare equality of macros

\newcommand{\orcheck}[1]{
    \ifx\@currenvir\@allfalsename % check that the current environment is allfalse
    % throw an error otherwise
    \protected@edef\logicbody{\ifnum\pdfstrcmp{\comparedstring}{#1}=0\else\logicbody\fi}
    \else
    \PackageError{ifallfalse}{\protect\orcheck\space should be nested within the allfalse environment}{}
    \fi
}