\ProvidesPackage{contest}

\newif\ifpurple\purplefalse
\newif\iffont\fontfalse
\newif\ifmat\matfalse

\DeclareOption{mat}{\purpletrue\fonttrue\mattrue}

\ProcessOptions\relax

\usepackage{amsmath,amssymb}

\pagenumbering{gobble}

\RequirePackage{fancyhdr}
\pagestyle{fancyplain}
\renewcommand{\headrulewidth}{0pt} % clear header
\fancyhead{} % clear line

\ifmat
\fancyfoot[L]{
{\color{black}
\raisebox{-60pt}[0pt][0pt]{
\includegraphics[width=2cm]{mountain.png}}
\raisebox{-56pt}[0pt][0pt]{\begin{tikzpicture}
\draw (0,0) node {{\alegreyafont\fontsize{40}{50}\selectfont MAT}};
\end{tikzpicture}}
}
}
\else
\fancyfoot[L]{
{\color{black}
\hspace{-20pt}\raisebox{-63pt}[0pt][0pt]{
\logo{0.27}}
\raisebox{-56pt}[0pt][0pt]{\begin{tikzpicture}
\draw (0,0) node {{\alegreyafont\fontsize{40}{50}\selectfont MAC}};
\end{tikzpicture}}
}
}
\fi

\usepackage{asymptote}

\begin{asydef}
size(6cm);
import olympiad;
import cse5;
import geometry;
\end{asydef}

\setlength{\parindent}{0pt}

\usepackage[letterpaper,top=2cm,bottom=4cm,left=3cm,right=3cm,includeheadfoot]{geometry}

\usepackage{pifont}
\newcommand*{\Item}{\item[\ding{70}]}

\usepackage{contour}
\usepackage{ulem}

\renewcommand{\ULdepth}{1.8pt}
\contourlength{0.8pt}

\newcommand{\myuline}[1]{%
  \uline{\phantom{#1}}%
  \llap{\contour{white}{#1}}%
}

\usepackage[dvipsnames]{xcolor}

\definecolor{darkmidnightblue}{rgb}{0.0, 0.2, 0.4}
\definecolor{sangria}{rgb}{0.57, 0.0, 0.04}
\definecolor{darkpurple}{RGB}{45,0,90} % dark purple


\ifpurple
\newcommand{\sectioncolor}{darkpurple}
\else
\newcommand{\sectioncolor}{darkmidnightblue}
\fi

\iffont
\usepackage{newpxtext,newpxmath}
\fi

\DeclareRobustCommand{\alegreyafont}{\fontfamily{Alegreya-LF}\selectfont} % defines alegreya

\usepackage{tikz,tikz-3dplot}

\newcommand{\logo}[1]{ %
    \tdplotsetmaincoords{60}{100}
    \pgfmathsetmacro\logoscale{#1}
    \begin{tikzpicture}[tdplot_main_coords,scale=\logoscale,line join=round]
        \pgfmathsetmacro\a{-2}
        \pgfmathsetmacro{\phi}{\a*(1+sqrt(5))/2}
        \pgfmathsetmacro{\psi}{\a*(sqrt(5)-1)/2}
        \path 
        coordinate(A) at (0,-\phi,\psi)
        coordinate(B) at (0,-\phi,-\psi)
        coordinate(C) at (\a,-\a,-\a)
        coordinate(D) at (\phi,-\psi,0)
        coordinate(E) at (\a,-\a,\a)
        coordinate(F) at (-\a,-\a,-\a)
        coordinate(G) at (-\phi,-\psi,0)
        coordinate(H) at (-\a,-\a,\a)
        coordinate(I) at (-\psi,0,-\phi)
        coordinate(J) at (\psi,0,-\phi)
        coordinate(K) at (\a,\a,-\a)
        coordinate(L) at (\phi,\psi,0)
        coordinate(M) at (\a,\a,\a)
        coordinate(N) at (\psi,0,\phi)
        coordinate(O) at (-\psi,0,\phi)
        coordinate(P) at (-\phi,\psi,0)
        coordinate(Q) at (-\a,\a,-\a)
        coordinate(R) at (0,\phi,-\psi)
        coordinate(S) at (0,\phi,\psi)
        coordinate(T) at (-\a,\a,\a); 
        \fill [RoyalBlue,opacity=0.4] 
        (D) -- (L) -- (M) -- (N) -- (E) -- cycle;
        \fill [Goldenrod, opacity=0.4]
        (A) -- (B) -- (C) -- (D) -- (E) -- cycle;
        \fill [ForestGreen, opacity=0.4]
        (C) -- (J) -- (K) -- (L) -- (D) -- cycle;
        \fill [RubineRed, opacity=0.4]
        (E) -- (N) -- (O) -- (H) -- (A) -- cycle;
        \fill [Orchid, opacity=0.4]
        (K) -- (R) -- (S) -- (M) -- (L) -- cycle;
        \fill [orange, opacity=0.4]
        (O) -- (T) -- (S) -- (M) -- (N) -- cycle;
        \draw[thick]
        (A) -- (B) -- (C) -- (D) -- (E) -- cycle
        (D) -- (L) -- (M) -- (N) -- (E)
        (C) -- (J) -- (K) -- (L) -- (D)
        (E) -- (N) -- (O) -- (H) -- (A)
        (K) -- (R) -- (S) -- (M) -- (N)
        (O) -- (T) -- (S);
    \end{tikzpicture}
}

\ifmat
\newcommand{\titulate}[1]{
\begin{center}
{\Huge{\alegreyafont #1}}
\\[1\baselineskip]
\includegraphics[width=4cm]{mountain.png}
\end{center}
}
\else
\newcommand{\titulate}[1]{
\begin{center}
{\Huge{\alegreyafont #1}}
\\[1\baselineskip]
\logo{0.4}
\end{center}
}
\fi

\newcommand{\roundheader}[1]{
\pagebreak
\begin{center}
{\Huge{\alegreyafont #1}}
\\[1\baselineskip]
\end{center}
}

\newcommand{\undsec}[1]{
\vspace{6mm}
\noindent{\LARGE{\color{\sectioncolor}\bfseries \sffamily #1}}
\vspace{2mm}
}

\newcommand{\prob}[1]{
\vspace{6mm}
\noindent{\large{\color{\sectioncolor}\bfseries \sffamily #1}}
\vspace{2mm}
}

\newcommand{\sol}{
\undsec{Solution} \\
%\vspace{\baselineskip}
%{\color{sangria}\bfseries\sffamily Solution:}
}

\newcommand{\ansbold}[1]{{\color{\sectioncolor}\mathbf{#1}}}

\RequirePackage{MnSymbol}

\renewcommand{\labelitemi}{$\filledmedsquare$}
\renewcommand{\labelitemii}{\ding{70}}
\renewcommand{\labelitemiii}{$\bullet$}

\input{tikzMacros}